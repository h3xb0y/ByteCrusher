using System;
using ByteCrusher.Core.Addition;
using ByteCrusher.Core.Entities;

namespace ByteCrusher.Examples.Alien
{
  public class SquareBackgroundDrawer : IEntityDrawer
  {
    private const string _code =
      "***************************************************************************************************\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\n" +
      "***************************************************************************************************\n";

    private readonly AsciiCode _asciiCode;

    public SquareBackgroundDrawer()
    {
      _asciiCode = new AsciiCode()
        .AddColor("*", "250", "20")
        .AddColor("|", "250", "10", true);
    }

    public string Code()
      => _code;

    public string Replace(string element)
    {
      var color = new Random().Next(0, 250);
      return _asciiCode
        .AddDrawing(element)
        .AddColor("*", "250", color.ToString())
        .Build();
    }
  }
}